<link rel="preconnect" href="https://fonts.googleapis.com">
        
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100;300;400;600;700&display=swap" rel="stylesheet">

<link href="/assets/frontOffice/assets/css/bootstrap.min.css" rel="stylesheet">

<link href="/assets/frontOffice/assets/css/bootstrap-icons.css" rel="stylesheet">

<link href="/assets/frontOffice/assets/css/owl.carousel.min.css" rel="stylesheet">

<link href="/assets/frontOffice/assets/css/tooplate-moso-interior.css" rel="stylesheet">
<link href="/assets/frontOffice/assets/css/tooplate-moso-interior.css" rel="stylesheet">

<header class="header-area header-sticky">
 
    <nav class="navbar navbar-expand-lg bg-light fixed-top shadow-lg">
        <div class="container">
            <a class="navbar-brand" href="/user/profile">Co <span class="tooplate-red">&</span><span class="tooplate-green">Co</span></a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link click-scroll" href="#section_1">Home</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle click-scroll" href="#section_3" id="navbarLightDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Carpooling</a>

                        <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="navbarLightDropdownMenuLink">
                            <li><a class="dropdown-item" [routerLink]="'/user/carpooling/addC'">AddCarpooling</a></li>

                            <li><a class="dropdown-item"  [routerLink]="'/user/carpooling/askC'">AskCarpooling</a></li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle click-scroll" [routerLink]="'/user/Collocation/showOffer'" id="navbarLightDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Collocation</a>

                        <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="navbarLightDropdownMenuLink">
                            <li><a class="dropdown-item" [routerLink]="'/user/Collocation/addOffer'">Add Collocation Offer</a></li>
                            <li><a class="dropdown-item" [routerLink]="'/user/schedule/calendar'">calendar</a></li>
 
                            <li><a class="dropdown-item" [routerLink]="'/user/Collocation/myOffers'">my offers</a></li>

                          
                        </ul>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link click-scroll" href="#section_4">Charity</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link click-scroll" href="#section_5">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link click-scroll" href="/user/timeline">Forum</a>
                    </li>


                </ul>
                <a href="/user/profile" class="rounded-pill ps-2 pt-1 pe-3 pb-1 text-white text-decoration-none">
                    <span class="rounded-circle d-inline-block align-middle centered-bg-image"
                        style="width: 30px; height: 30px; background-color: rgb(214, 171, 171); 
                        background-image: url('{{imageUrl}}'); background-size: cover; background-position: center;"></span>
                    <span class="mat-body-strong d-inline-block align-middle ps-2" *ngIf="user" [style.color]="'black'">{{ user.firstName }}</span>
                </a>
                


                

                
            </div>
            
        </div>
        <div >
            <button mat-icon-button (click)="openSearchDialog()">
                <mat-icon>search</mat-icon>
            </button>
            
            <button mat-icon-button [matMenuTriggerFor]="notificationMenu" (click)="handleUnseenNotifications()">
                <mat-icon>notifications</mat-icon>
                <span class="position-absolute translate-middle p-2 bg-danger rounded-circle" style="top: 10px; right: -5px;" *ngIf="hasUnseenNotification"></span>
            </button>
            <mat-menu #notificationMenu="matMenu" xPosition="before">
                <h2 class="mat-h2 m-0 text-center" style="padding: 12px 36px" *ngIf="notifications.length <= 0" (click)="$event.stopPropagation();">No Notification</h2>
                <h2 class="mat-h2 m-0 text-center" style="padding: 12px 20px 20px 20px;" *ngIf="notifications.length > 0" (click)="$event.stopPropagation();">Notifications</h2>
    
                <a mat-menu-item *ngFor="let notification of notifications; let last = last;"
                 href="/posts/{{ notification.owningPost.id }}"
                 class="border border-1 border-start-0 border-end-0"
                 [ngClass]="last ? '' : 'border-bottom-0'"
                 style="height: auto; line-height: 1.6; white-space: normal; font-size: 14px; padding: 16px 20px;">
                     <mat-icon color="primary" style="margin-right: 5px;" *ngIf="notification.type === 'POST_LIKE' || notification.type === 'COMMENT_LIKE'">favorite</mat-icon>
                     <mat-icon color="primary" style="margin-right: 5px;" *ngIf="notification.type === 'POST_COMMENT'">comment</mat-icon>
                     <mat-icon color="primary" style="margin-right: 5px;" *ngIf="notification.type === 'POST_SHARE'">share</mat-icon>

                     <span class="fw-500" *ngIf="notification.sender">{{ notification.sender.firstName + ' ' + notification.sender.lastName }}</span>
                     <span class="fw-500 text-danger" *ngIf="!notification.sender">An App User</span>
    
                    <span *ngIf="notification.type === 'POST_LIKE'">
                        <span *ngIf="notification.owningPost.likeCount > 1">
                            and
                            <span class="fw-500">
                                {{ notification.owningPost.likeCount - 1 }}
                                other
                            </span>
                        </span>
                         liked your
                        <span *ngIf="notification.owningPost.content">
                            post "{{ notification.owningPost.content | slice:0:44 }}..."
                        </span>
                        <span *ngIf="!notification.owningPost.content">
                            photo
                        </span>
                    </span>
                    
                    <span *ngIf="notification.type === 'POST_COMMENT'">
                        <span *ngIf="notification.owningPost.commentCount > 1">
                            and
                            <span class="fw-500">
                                {{ notification.owningPost.commentCount - 1 }}
                                other
                            </span>
                        </span>
                        commented on your
                        <span *ngIf="notification.owningPost.content">
                            post "{{ notification.owningPost.content | slice:0:24 }}..."
                        </span>
                        <span *ngIf="!notification.owningPost.content">
                            photo
                        </span>
                    </span>
    
                    <span *ngIf="notification.type === 'POST_SHARE'">
                        <span *ngIf="notification.owningPost.shareCount > 1">
                            and
                            <span class="fw-500">
                                {{ notification.owningPost.shareCount - 1 }}
                                other
                            </span>
                        </span>
                        shared your
                        <span *ngIf="notification.owningPost.content">
                            post "{{ notification.owningPost.content | slice:0:24 }}..."
                        </span>
                        <span *ngIf="!notification.owningPost.content">
                            photo
                        </span>
                    </span>
                    
    
                    <span *ngIf="notification.type === 'COMMENT_LIKE'">
                        <span *ngIf="notification.owningComment.likeCount > 1">
                            and
                            <span class="fw-500">
                            {{ notification.owningComment.likeCount - 1	 }}
                                other
                            </span>
                        </span>
                        liked your comment "{{ notification.owningComment.content | slice:0:24 }}..."
                    </span>
                    
                </a>
    
                <div (click)="$event.stopPropagation()" class="position-relative ps-3 pe-3">
                    <div class="text-center" *ngIf="hasMoreNotifications" style="margin: 20px 12px 12px 12px;">
                        <button mat-raised-button color="primary" class="rounded-pill align-middle" *ngIf="hasMoreNotifications && !(fetchingResult && resultPage > 1)" (click)="loadNotifications(resultPage)">Load More</button>
                        <div *ngIf="fetchingResult && resultPage > 1" class="d-inline-block" style="margin-top: 3px;">
                            <mat-spinner style="zoom: 0.3; margin: 0 auto;"></mat-spinner>
                        </div>
                    </div>
                </div>
            </mat-menu>
            
            <button mat-icon-button [matMenuTriggerFor]="mainMenu">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #mainMenu="matMenu" xPosition="before">
                <a mat-menu-item href="/user/profile">Profile</a>
                <a mat-menu-item href="/user/showphotoprofile">Settings</a>
                <a mat-menu-item href="/user/Collocation/addPreferences">preferences</a>
                <a mat-menu-item href="/user/point">ByPoints</a>
                <a mat-menu-item (click)="logout()">Logout</a>   
            </mat-menu>
        </div>
    </nav>

  </header>
  <script src="/assets/frontOffice/assets/js/jquery.min.js"></script>
  <script src="/assets/frontOffice/assets/js/bootstrap.min.js"></script>
  <script src="/assets/frontOffice/assets/js/click-scroll.js"></script>
  <script src="/assets/frontOffice/assets/js/jquery.backstretch.min.js"></script>
  <script src="/assets/frontOffice/assets/js/owl.carousel.min.js"></script>
  <script src="/assets/frontOffice/assets/js/custom.js"></script>